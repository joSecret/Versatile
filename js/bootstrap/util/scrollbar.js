!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("../dom/selector-engine"),require("../dom/manipulator"),require("./index")):"function"==typeof define&&define.amd?define(["../dom/selector-engine","../dom/manipulator","./index"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self).Scrollbar=factory(global.SelectorEngine,global.Manipulator,global.Index)}(this,function(SelectorEngine,Manipulator,index){"use strict";var _interopDefaultLegacy=e=>e&&"object"==typeof e&&"default"in e?e:{default:e};const SelectorEngine__default=_interopDefaultLegacy(SelectorEngine),Manipulator__default=_interopDefaultLegacy(Manipulator),SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){var documentWidth=document.documentElement.clientWidth;return Math.abs(window.innerWidth-documentWidth)}hide(){const width=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"padding-right",calculatedValue=>calculatedValue+width),this._setElementAttributes(SELECTOR_FIXED_CONTENT,"padding-right",calculatedValue=>calculatedValue+width),this._setElementAttributes(".sticky-top","margin-right",calculatedValue=>calculatedValue-width)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"padding-right"),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,"padding-right"),this._resetElementAttributes(".sticky-top","margin-right")}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(selector,styleProperty,callback){const scrollbarWidth=this.getWidth();var manipulationCallBack;this._applyManipulationCallback(selector,element=>{var calculatedValue;element!==this._element&&window.innerWidth>element.clientWidth+scrollbarWidth||(this._saveInitialAttribute(element,styleProperty),calculatedValue=window.getComputedStyle(element).getPropertyValue(styleProperty),element.style.setProperty(styleProperty,callback(Number.parseFloat(calculatedValue))+"px"))})}_saveInitialAttribute(element,styleProperty){var actualValue=element.style.getPropertyValue(styleProperty);actualValue&&Manipulator__default.default.setDataAttribute(element,styleProperty,actualValue)}_resetElementAttributes(selector,styleProperty){var manipulationCallBack;this._applyManipulationCallback(selector,element=>{var value=Manipulator__default.default.getDataAttribute(element,styleProperty);null===value?element.style.removeProperty(styleProperty):(Manipulator__default.default.removeDataAttribute(element,styleProperty),element.style.setProperty(styleProperty,value))})}_applyManipulationCallback(selector,callBack){if(index.isElement(selector))callBack(selector);else for(const sel of SelectorEngine__default.default.find(selector,this._element))callBack(sel)}}return ScrollBarHelper});