!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("./util/index"),require("./dom/event-handler"),require("./dom/manipulator"),require("./dom/selector-engine"),require("./base-component")):"function"==typeof define&&define.amd?define(["./util/index","./dom/event-handler","./dom/manipulator","./dom/selector-engine","./base-component"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self).Dropdown=factory(global.Index,global.EventHandler,global.Manipulator,global.SelectorEngine,global.BaseComponent)}(this,function(index,EventHandler,Manipulator,SelectorEngine,BaseComponent){"use strict";var _interopDefaultLegacy=e=>e&&"object"==typeof e&&"default"in e?e:{default:e};function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}}),d;if(e)for(const k in e){"default"!==k&&(d=Object.getOwnPropertyDescriptor(e,k),Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:()=>e[k]}))}return n.default=e,Object.freeze(n)}const Popper__namespace=_interopNamespace(Popper),EventHandler__default=_interopDefaultLegacy(EventHandler),Manipulator__default=_interopDefaultLegacy(Manipulator),SelectorEngine__default=_interopDefaultLegacy(SelectorEngine);var EventHandler=_interopDefaultLegacy(BaseComponent);const NAME="dropdown";var DATA_KEY="bs.dropdown",EVENT_KEY=".bs.dropdown",DATA_API_KEY=".data-api";const ESCAPE_KEY="Escape",TAB_KEY="Tab",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE="hide.bs.dropdown",EVENT_HIDDEN="hidden.bs.dropdown",EVENT_SHOW="show.bs.dropdown",EVENT_SHOWN="shown.bs.dropdown";var Manipulator="click.bs.dropdown.data-api",SelectorEngine="keydown.bs.dropdown.data-api",_interopDefaultLegacy="keyup.bs.dropdown.data-api";const CLASS_NAME_SHOW="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=SELECTOR_DATA_TOGGLE+".show",SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=index.isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=index.isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=index.isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=index.isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=index.isRTL()?"left-start":"right-start",PLACEMENT_LEFT=index.isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends EventHandler.default{constructor(element,config){super(element,config),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine__default.default.next(this._element,SELECTOR_MENU)[0]||SelectorEngine__default.default.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine__default.default.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!index.isDisabled(this._element)&&!this._isShown()){var relatedTarget={relatedTarget:this._element},showEvent=EventHandler__default.default.trigger(this._element,EVENT_SHOW,relatedTarget);if(!showEvent.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const element of[].concat(...document.body.children))EventHandler__default.default.on(element,"mouseover",index.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add("show"),this._element.classList.add("show"),EventHandler__default.default.trigger(this._element,EVENT_SHOWN,relatedTarget)}}}hide(){var relatedTarget;!index.isDisabled(this._element)&&this._isShown()&&(relatedTarget={relatedTarget:this._element},this._completeHide(relatedTarget))}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(relatedTarget){var hideEvent=EventHandler__default.default.trigger(this._element,EVENT_HIDE,relatedTarget);if(!hideEvent.defaultPrevented){if("ontouchstart"in document.documentElement)for(const element of[].concat(...document.body.children))EventHandler__default.default.off(element,"mouseover",index.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove("show"),this._element.classList.remove("show"),this._element.setAttribute("aria-expanded","false"),Manipulator__default.default.removeDataAttribute(this._menu,"popper"),EventHandler__default.default.trigger(this._element,EVENT_HIDDEN,relatedTarget)}}_getConfig(config){if("object"!=typeof(config=super._getConfig(config)).reference||index.isElement(config.reference)||"function"==typeof config.reference.getBoundingClientRect)return config;throw new TypeError(NAME.toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.')}_createPopper(){if(void 0===Popper__namespace)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let referenceElement=this._element;"parent"===this._config.reference?referenceElement=this._parent:index.isElement(this._config.reference)?referenceElement=index.getElement(this._config.reference):"object"==typeof this._config.reference&&(referenceElement=this._config.reference);var popperConfig=this._getPopperConfig();this._popper=Popper__namespace.createPopper(referenceElement,this._menu,popperConfig)}_isShown(){return this._menu.classList.contains("show")}_getPlacement(){var parentDropdown=this._parent,isEnd;return parentDropdown.classList.contains("dropend")?PLACEMENT_RIGHT:parentDropdown.classList.contains("dropstart")?PLACEMENT_LEFT:parentDropdown.classList.contains("dropup-center")?"top":parentDropdown.classList.contains("dropdown-center")?"bottom":(isEnd="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim(),parentDropdown.classList.contains("dropup")?isEnd?PLACEMENT_TOPEND:PLACEMENT_TOP:isEnd?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM)}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset}=this._config;return"string"==typeof offset?offset.split(",").map(value=>Number.parseInt(value,10)):"function"==typeof offset?popperData=>offset(popperData,this._element):offset}_getPopperConfig(){var defaultBsPopperConfig={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return!this._inNavbar&&"static"!==this._config.display||(Manipulator__default.default.setDataAttribute(this._menu,"popper","static"),defaultBsPopperConfig.modifiers=[{name:"applyStyles",enabled:!1}]),{...defaultBsPopperConfig,..."function"==typeof this._config.popperConfig?this._config.popperConfig(defaultBsPopperConfig):this._config.popperConfig}}_selectMenuItem({key,target}){var items=SelectorEngine__default.default.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(element=>index.isVisible(element));items.length&&index.getNextActiveElement(items,target,"ArrowDown"===key,!items.includes(target)).focus()}static jQueryInterface(config){return this.each(function(){var data=Dropdown.getOrCreateInstance(this,config);if("string"==typeof config){if(void 0===data[config])throw new TypeError(`No method named "${config}"`);data[config]()}})}static clearMenus(event){var openToggles;if(2!==event.button&&("keyup"!==event.type||"Tab"===event.key))for(const toggle of SelectorEngine__default.default.find(SELECTOR_DATA_TOGGLE_SHOWN)){var context=Dropdown.getInstance(toggle),composedPath,isMenuTarget,composedPath;context&&!1!==context._config.autoClose&&(isMenuTarget=(composedPath=event.composedPath()).includes(context._menu),composedPath.includes(context._element)||"inside"===context._config.autoClose&&!isMenuTarget||"outside"===context._config.autoClose&&isMenuTarget||context._menu.contains(event.target)&&("keyup"===event.type&&"Tab"===event.key||/input|select|option|textarea|form/i.test(event.target.tagName))||(composedPath={relatedTarget:context._element},"click"===event.type&&(composedPath.clickEvent=event),context._completeHide(composedPath)))}}static dataApiKeydownHandler(event){var isInput=/input|textarea/i.test(event.target.tagName),isEscapeEvent="Escape"===event.key,isUpOrDownEvent=["ArrowUp","ArrowDown"].includes(event.key),isInput,isEscapeEvent;!isUpOrDownEvent&&!isEscapeEvent||isInput&&!isEscapeEvent||(event.preventDefault(),isInput=this.matches(SELECTOR_DATA_TOGGLE)?this:SelectorEngine__default.default.prev(this,SELECTOR_DATA_TOGGLE)[0]||SelectorEngine__default.default.next(this,SELECTOR_DATA_TOGGLE)[0]||SelectorEngine__default.default.findOne(SELECTOR_DATA_TOGGLE,event.delegateTarget.parentNode),isEscapeEvent=Dropdown.getOrCreateInstance(isInput),isUpOrDownEvent?(event.stopPropagation(),isEscapeEvent.show(),isEscapeEvent._selectMenuItem(event)):isEscapeEvent._isShown()&&(event.stopPropagation(),isEscapeEvent.hide(),isInput.focus()))}}return EventHandler__default.default.on(document,SelectorEngine,SELECTOR_DATA_TOGGLE,Dropdown.dataApiKeydownHandler),EventHandler__default.default.on(document,SelectorEngine,SELECTOR_MENU,Dropdown.dataApiKeydownHandler),EventHandler__default.default.on(document,Manipulator,Dropdown.clearMenus),EventHandler__default.default.on(document,_interopDefaultLegacy,Dropdown.clearMenus),EventHandler__default.default.on(document,Manipulator,SELECTOR_DATA_TOGGLE,function(event){event.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()}),index.defineJQueryPlugin(Dropdown),Dropdown});