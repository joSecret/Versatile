!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("./util/index"),require("./dom/event-handler"),require("./base-component"),require("./util/component-functions")):"function"==typeof define&&define.amd?define(["./util/index","./dom/event-handler","./base-component","./util/component-functions"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self).Toast=factory(global.Index,global.EventHandler,global.BaseComponent,global.ComponentFunctions)}(this,function(index,EventHandler,BaseComponent,componentFunctions){"use strict";var _interopDefaultLegacy=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},BaseComponent__default;const EventHandler__default=_interopDefaultLegacy(EventHandler),NAME="toast";var DATA_KEY="bs.toast",EVENT_KEY=".bs.toast";const EVENT_MOUSEOVER="mouseover.bs.toast",EVENT_MOUSEOUT="mouseout.bs.toast",EVENT_FOCUSIN="focusin.bs.toast",EVENT_FOCUSOUT="focusout.bs.toast",EVENT_HIDE="hide.bs.toast",EVENT_HIDDEN="hidden.bs.toast",EVENT_SHOW="show.bs.toast",EVENT_SHOWN="shown.bs.toast",CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends _interopDefaultLegacy(BaseComponent).default{constructor(element,config){super(element,config),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){var showEvent,complete;EventHandler__default.default.trigger(this._element,EVENT_SHOW).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),complete=()=>{this._element.classList.remove("showing"),EventHandler__default.default.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()},this._element.classList.remove("hide"),index.reflow(this._element),this._element.classList.add("show","showing"),this._queueCallback(complete,this._element,this._config.animation))}hide(){var hideEvent,complete;this.isShown()&&!EventHandler__default.default.trigger(this._element,EVENT_HIDE).defaultPrevented&&(complete=()=>{this._element.classList.add("hide"),this._element.classList.remove("showing","show"),EventHandler__default.default.trigger(this._element,EVENT_HIDDEN)},this._element.classList.add("showing"),this._queueCallback(complete,this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove("show"),super.dispose()}isShown(){return this._element.classList.contains("show")}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(event,isInteracting){switch(event.type){case"mouseover":case"mouseout":this._hasMouseInteraction=isInteracting;break;case"focusin":case"focusout":this._hasKeyboardInteraction=isInteracting}var event;isInteracting?this._clearTimeout():(event=event.relatedTarget,this._element===event||this._element.contains(event)||this._maybeScheduleHide())}_setListeners(){EventHandler__default.default.on(this._element,EVENT_MOUSEOVER,event=>this._onInteraction(event,!0)),EventHandler__default.default.on(this._element,EVENT_MOUSEOUT,event=>this._onInteraction(event,!1)),EventHandler__default.default.on(this._element,EVENT_FOCUSIN,event=>this._onInteraction(event,!0)),EventHandler__default.default.on(this._element,EVENT_FOCUSOUT,event=>this._onInteraction(event,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(config){return this.each(function(){var data=Toast.getOrCreateInstance(this,config);if("string"==typeof config){if(void 0===data[config])throw new TypeError(`No method named "${config}"`);data[config](this)}})}}return componentFunctions.enableDismissTrigger(Toast),index.defineJQueryPlugin(Toast),Toast});