!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("./util/index"),require("./dom/event-handler"),require("./dom/selector-engine"),require("./base-component")):"function"==typeof define&&define.amd?define(["./util/index","./dom/event-handler","./dom/selector-engine","./base-component"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self).Tab=factory(global.Index,global.EventHandler,global.SelectorEngine,global.BaseComponent)}(this,function(index,EventHandler,SelectorEngine,BaseComponent){"use strict";var _interopDefaultLegacy=e=>e&&"object"==typeof e&&"default"in e?e:{default:e},BaseComponent__default;const EventHandler__default=_interopDefaultLegacy(EventHandler),SelectorEngine__default=_interopDefaultLegacy(SelectorEngine),NAME="tab";var DATA_KEY="bs.tab",EVENT_KEY=".bs.tab";const EVENT_HIDE="hide.bs.tab",EVENT_HIDDEN="hidden.bs.tab",EVENT_SHOW="show.bs.tab",EVENT_SHOWN="shown.bs.tab";var EVENT_CLICK_DATA_API="click.bs.tab";const EVENT_KEYDOWN="keydown.bs.tab";var EVENT_LOAD_DATA_API="load.bs.tab";const ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE="fade",CLASS_NAME_SHOW="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu";var NOT_SELECTOR_DROPDOWN_TOGGLE=":not(.dropdown-toggle)";const SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item";var SELECTOR_INNER,EventHandler='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]';const SELECTOR_INNER_ELEM='.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle)'+", "+EventHandler,SELECTOR_DATA_TOGGLE_ACTIVE='.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]';class Tab extends _interopDefaultLegacy(BaseComponent).default{constructor(element){super(element),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler__default.default.on(this._element,EVENT_KEYDOWN,event=>this._keydown(event)))}static get NAME(){return NAME}show(){var innerElem=this._element,active,hideEvent,showEvent;this._elemIsActive(innerElem)||(hideEvent=(active=this._getActiveElem())?EventHandler__default.default.trigger(active,EVENT_HIDE,{relatedTarget:innerElem}):null,EventHandler__default.default.trigger(innerElem,EVENT_SHOW,{relatedTarget:active}).defaultPrevented)||hideEvent&&hideEvent.defaultPrevented||(this._deactivate(active,innerElem),this._activate(innerElem,active))}_activate(element,relatedElem){var complete;element&&(element.classList.add("active"),this._activate(index.getElementFromSelector(element)),this._queueCallback(()=>{"tab"!==element.getAttribute("role")?element.classList.add("show"):(element.removeAttribute("tabindex"),element.setAttribute("aria-selected",!0),this._toggleDropDown(element,!0),EventHandler__default.default.trigger(element,EVENT_SHOWN,{relatedTarget:relatedElem}))},element,element.classList.contains("fade")))}_deactivate(element,relatedElem){var complete;element&&(element.classList.remove("active"),element.blur(),this._deactivate(index.getElementFromSelector(element)),this._queueCallback(()=>{"tab"!==element.getAttribute("role")?element.classList.remove("show"):(element.setAttribute("aria-selected",!1),element.setAttribute("tabindex","-1"),this._toggleDropDown(element,!1),EventHandler__default.default.trigger(element,EVENT_HIDDEN,{relatedTarget:relatedElem}))},element,element.classList.contains("fade")))}_keydown(event){var isNext,event;["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(event.key)&&(event.stopPropagation(),event.preventDefault(),isNext=["ArrowRight","ArrowDown"].includes(event.key),event=index.getNextActiveElement(this._getChildren().filter(element=>!index.isDisabled(element)),event.target,isNext,!0))&&(event.focus({preventScroll:!0}),Tab.getOrCreateInstance(event).show())}_getChildren(){return SelectorEngine__default.default.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(child=>this._elemIsActive(child))||null}_setInitialAttributes(parent,children){this._setAttributeIfNotExists(parent,"role","tablist");for(const child of children)this._setInitialAttributesOnChild(child)}_setInitialAttributesOnChild(child){child=this._getInnerElement(child);var isActive=this._elemIsActive(child),outerElem=this._getOuterElement(child);child.setAttribute("aria-selected",isActive),outerElem!==child&&this._setAttributeIfNotExists(outerElem,"role","presentation"),isActive||child.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(child,"role","tab"),this._setInitialAttributesOnTargetPanel(child)}_setInitialAttributesOnTargetPanel(child){var target=index.getElementFromSelector(child);target&&(this._setAttributeIfNotExists(target,"role","tabpanel"),child.id)&&this._setAttributeIfNotExists(target,"aria-labelledby","#"+child.id)}_toggleDropDown(element,open){const outerElem=this._getOuterElement(element);var element;outerElem.classList.contains("dropdown")&&((element=(selector,className)=>{var selector=SelectorEngine__default.default.findOne(selector,outerElem);selector&&selector.classList.toggle(className,open)})(".dropdown-toggle","active"),element(".dropdown-menu","show"),outerElem.setAttribute("aria-expanded",open))}_setAttributeIfNotExists(element,attribute,value){element.hasAttribute(attribute)||element.setAttribute(attribute,value)}_elemIsActive(elem){return elem.classList.contains("active")}_getInnerElement(elem){return elem.matches(SELECTOR_INNER_ELEM)?elem:SelectorEngine__default.default.findOne(SELECTOR_INNER_ELEM,elem)}_getOuterElement(elem){return elem.closest(SELECTOR_OUTER)||elem}static jQueryInterface(config){return this.each(function(){var data=Tab.getOrCreateInstance(this);if("string"==typeof config){if(void 0===data[config]||config.startsWith("_")||"constructor"===config)throw new TypeError(`No method named "${config}"`);data[config]()}})}}return EventHandler__default.default.on(document,"click.bs.tab",EventHandler,function(event){["A","AREA"].includes(this.tagName)&&event.preventDefault(),index.isDisabled(this)||Tab.getOrCreateInstance(this).show()}),EventHandler__default.default.on(window,"load.bs.tab",()=>{for(const element of SelectorEngine__default.default.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(element)}),index.defineJQueryPlugin(Tab),Tab});