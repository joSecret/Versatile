!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("../util/index")):"function"==typeof define&&define.amd?define(["../util/index"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self).SelectorEngine=factory(global.Index)}(this,function(index){"use strict";var SelectorEngine;return{find(selector,element=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(element,selector))},findOne(selector,element=document.documentElement){return Element.prototype.querySelector.call(element,selector)},children(element,selector){return[].concat(...element.children).filter(child=>child.matches(selector))},parents(element,selector){var parents=[];let ancestor=element.parentNode.closest(selector);for(;ancestor;)parents.push(ancestor),ancestor=ancestor.parentNode.closest(selector);return parents},prev(element,selector){let previous=element.previousElementSibling;for(;previous;){if(previous.matches(selector))return[previous];previous=previous.previousElementSibling}return[]},next(element,selector){let next=element.nextElementSibling;for(;next;){if(next.matches(selector))return[next];next=next.nextElementSibling}return[]},focusableChildren(element){var focusables=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(selector=>selector+':not([tabindex^="-"])').join(",");return this.find(focusables,element).filter(el=>!index.isDisabled(el)&&index.isVisible(el))}}});